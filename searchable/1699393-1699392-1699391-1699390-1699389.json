[
 {
  "author": "lgo", 
  "date": "2013-05-17T20:34:25.361342Z", 
  "msg": [
   "On the multiple_ssl_impls branch: Merge trunk r1838-1855."
  ], 
  "revision_id": "1699393"
 }, 
 {
  "author": "lgo", 
  "date": "2013-05-17T20:20:35.412079Z", 
  "msg": [
   "Explicitly set the expected hostname in the ssl tests, to validate", 
   "correct configuration of the TLS Server Name Indication extension", 
   "in the ssl bucket(s).", 
   "* test/server/serfservercert.pem: Recreate, set CN to localhost.", 
   "* test/test_context.c", 
   "(validate_servercert): Update CN.", 
   "* test/test_util.c", 
   "(default_https_conn_setup): Set the expected hostname."
  ], 
  "revision_id": "1699392"
 }, 
 {
  "author": "lgo", 
  "date": "2013-05-17T09:41:37.551238Z", 
  "msg": [
   "On the multiple_ssl_impls branch:", 
   "Add a function to the SSL bucket API to show a platform-specific dialog that", 
   "allows the user to select an identity for the server. This requires replacements", 
   "for the client_cert[_pw] callback functions, as those only allow the application", 
   "to return the path of a .p12 file.", 
   "This - together with r1853 - should replace the with_gui, no_gui modes added", 
   "earlier (modes will be removed again later).", 
   "Work in progress: the identity password callback needs to be updated to take a", 
   "domain instead of the cert_path. The identity callback should take the list", 
   "of distinguished names received from the server. OpenSSL buckets need to be", 
   "updated.", 
   "* buckets/bucket_private.h", 
   "(struct serf_ssl_bucket_type_t): Add identity_provider_set,", 
   "load_identity_from_file and show_select_identity_dialog members.", 
   "(struct serf_ssl_identity_t): New abstract type, combination of client certificate and its associated private key.", 
   "(serf__create_identity): New factory function for serf_ssl_identity_t objects.", 
   "* buckets/sectrans_buckets.c", 
   "(struct sectrans_context_t): Add identity_callback. Rename client_cert_* to", 
   "identity_*.", 
   "(load_identity_from_databuf): Return an serf_ssl_identity_t object. Also", 
   "handle the password callback loop here.", 
   "(show_trust_certificate_dialog): Fix some variable declarations.", 
   "(select_identity): Rename to ...", 
   "(show_select_identity_dialog): ... this. Search for all matching identities", 
   "here. Return a serf_ssl_identity_t object.", 
   "(callback_for_identity_password,", 
   "callback_for_identity): New functions, wrappers for the application", 
   "callbacks.", 
   "(provide_client_certificate): Refactored, much of the original functionality", 
   "is moved to the new callback_for* and show_select_identity_dialog", 
   "functions.", 
   "(client_cert_provider_set,", 
   "client_cert_password_set): Update renamed variable.", 
   "(identity_provider_set): New function.", 
   "(load_identity_from_file): New function, enables an application to load an", 
   "identity from a .p12 file.", 
   "(serf_ssl_bucket_type_securetransport): New members identity_provider_set,", 
   "load_identity_from_file and show_select_identity_dialog.", 
   "* buckets/ssl_buckets.c", 
   "(serf__create_identity): New factory function.", 
   "(serf_ssl_identity_provider_set,", 
   "serf_ssl_identity_password_callback_set,", 
   "serf_ssl_load_identity_from_file,", 
   "serf_ssl_show_select_identity_dialog): New public function definitions.", 
   "* serf_bucket_types.h", 
   "(serf_ssl_need_client_cert_t,", 
   "serf_ssl_client_cert_provider_set,", 
   "serf_ssl_client_cert_password_set): Add deprecated comment.", 
   "(serf_ssl_need_identity_t): New callback function type.", 
   "(serf_ssl_identity_provider_set,", 
   "serf_ssl_identity_password_callback_set,", 
   "serf_ssl_load_identity_from_file,", 
   "serf_ssl_show_select_identity_dialog): New public function declarations.", 
   "* serf.h", 
   "(SERF_ERROR_SSL_NO_IDENTITIES_AVAILABLE): New error code.", 
   "* context.c", 
   "(serf_error_string): Add description of new error code.", 
   "* test/test_context.c", 
   "(ssl_server_cert_cb_expect_failures): Remove unused variable.", 
   "(identity_cb, identity_conn_setup): New helper functions.", 
   "(test_serf_ssl_identity): New test for the extra functions in the SSL bucket", 
   "API.", 
   "(test_context): Run the new test."
  ], 
  "revision_id": "1699391"
 }, 
 {
  "author": "lgo", 
  "date": "2013-05-16T12:15:05.748434Z", 
  "msg": [
   "On the multiple_ssl_impls branch:", 
   "Add a function to the SSL bucket API to show a platform-specific dialog that", 
   "allows the user to validate a server certificate. This function can then be", 
   "called by the application in the server_cert callback.", 
   "This should replace the with_gui, no_gui modes added earlier, the application", 
   "is now in complete control to show this dialog or use its own trust validation", 
   "mechanisms.", 
   "* buckets/bucket_private.h", 
   "(struct serf_ssl_bucket_type_t): Add show_trust_certificate_dialog member.", 
   "* buckets/openssl_buckets.c", 
   "(serf__openssl_show_trust_certificate_dialog): New function, no implementation.", 
   "(serf_ssl_bucket_type_openssl): Add the new function.", 
   "* buckets/sectrans_buckets.c", 
   "(struct sectrans_context_t): Store the trust object in the context.", 
   "(cfrelease_trust): New function, cleans up the trust object.", 
   "(ask_approval_gui): Rename to ...", 
   "(show_trust_certificate_dialog): ... this. Function is now added to the API,", 
   "to be called by the application. Take the text labels as parameters.", 
   "(validate_server_certificate): Store the trust object in the context.", 
   "* buckets/ssl_buckets.c", 
   "* serf_bucket_types.h", 
   "(serf_ssl_show_trust_certificate_dialog): New function.", 
   "* test/test_context.c", 
   "(ssl_server_cert_cb_expect_failures): Add commented out example code on how", 
   "to use the new dialog."
  ], 
  "revision_id": "1699390"
 }, 
 {
  "author": "lgo", 
  "date": "2013-05-16T09:42:35.568701Z", 
  "msg": [
   "On the multiple_ssl_impls branch:", 
   "* buckets/sectrans_buckets.c: Update comments."
  ], 
  "revision_id": "1699389"
 }
]