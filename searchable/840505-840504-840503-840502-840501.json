[
 {
  "author": "kfogel", 
  "date": "2001-11-09T18:42:15.238930Z", 
  "msg": [
   "More work on showing changed paths.  This is part of issue #505.", 
   "* subversion/libsvn_repos/log.c: #include svn_path.h.", 
   "(svn_repos_get_logs): Detect changed paths, store them in the hash.", 
   "This loop is incorrect, but committing up first, because have a lot of", 
   "changes accumulated and need to do some other stuff first.", 
   "* subversion/include/svn_repos.h (svn_repos_node_t): Doc fix.", 
   "* subversion/libsvn_repos/delta.c (add_file_or_dir,", 
   "replace_file_or_dir): Don't error if can't get a revision for every", 
   "path, that's not necessarily a problem (in the long run, the", 
   "`src_revs' arg to svn_repos_dir_delta() will probably go away, and", 
   "we'll use the created-rev field of the node instead).", 
   "* subversion/libsvn_ra_dav/ra_dav.h (svn_ra_dav__merge_activity): Add", 
   "ELEM_changed_path.  Regroup and realphabetize.", 
   "* subversion/libsvn_ra_dav/fetch.c (svn_ra_dav__get_log): Match", 
   "correct id to \"changed-path\" element, and make unchanging strings", 
   "static.  Thanks to Greg Stein for the fixes.", 
   "(log_end_element): Switch on the element id.  Ditto re Greg."
  ], 
  "revision_id": "840505"
 }, 
 {
  "author": "sussman", 
  "date": "2001-11-09T18:41:00.681685Z", 
  "msg": [
   "Yet more work toward directory copies.  When a directory is added", 
   "\"with history\", we want the post-commit-revision-bumping to", 
   "*recursively* bump all the children of the copied directory -- not", 
   "just the directory itself.", 
   "* libsvn_ra_dav/commit.c (commit_add_file): yikes! pass NULL to", 
   "svn_ra_dav__get_baseline_info; the first arg is a pointer, not a", 
   "boolean.", 
   "(commit_add_dir): Duh, send a COPY request if add_dir() has history!", 
   "* svn_wc.h (svn_wc_get_version_controlled_paths): new func, declare.", 
   "(svn_wc_set_revision):  add a 'recurse' argument to delcaration.", 
   "* entries.c (svn_wc_get_version_controlled_paths): new func, implement.", 
   "* svn_types.h (enum svn_recurse):  new enumerated type.", 
   "* track_editor.c (add_directory): when adding a path to the", 
   "committed_targets list, set the hash-value to one of the new enums.", 
   "(add_file):  same.", 
   "(delete_entry): same.", 
   "(change_dir_prop): same.", 
   "(change_file_prop): same.", 
   "(apply_textdelta): same.", 
   "(close_edit): pass the 'recurse' flag to the bump func", 
   "appropriately, as indicated by the hash-value.", 
   "* svn_delta.h (svn_delta_get_commit_track_editor):  update docstring.", 
   "(svn_bump_func_t):  add a 'recurse' argument.", 
   "* svn_ra.h (svn_ra_close_commit_func_t):  add a 'recurse' argument.", 
   "* adm_ops.c (svn_wc_set_revision):  if told to recurse, recursively", 
   "bump the revision on all children below a path.", 
   "(svn_wc__ensure_uniform_revision):  update caller to use new flag.", 
   "* libsvn_ra_dav/merge.c (bump_resource): call new helper.", 
   "(okay_to_bump_path): new helper to interpret the 'filter' list.", 
   "(svn_ra_dav__merge_activity): pass FALSE to close_commit callback.", 
   "* ra_plugin.c (cleanup_commit): pass the 'recurse' flag to the bump func", 
   "appropriately, as indicated by the hash-value."
  ], 
  "revision_id": "840504"
 }, 
 {
  "author": "gstein", 
  "date": "2001-11-09T15:50:45.103206Z", 
  "msg": [
   "Big revamping. Still not done yet :-("
  ], 
  "revision_id": "840503"
 }, 
 {
  "author": "kfogel", 
  "date": "2001-11-08T23:30:01.188569Z", 
  "msg": [
   "Work on showing changed paths in log output, that is, \"svn log -v\".", 
   "All option parsing and network-layer modifications are done; remaining", 
   "work is just to actually detect the changed paths and store them in", 
   "the appropriate slots.  This is part of issue #505.", 
   "* subversion/libsvn_repos/log.c (svn_repos_get_logs): Send some", 
   "hardcoded changed paths; save work on discovering the actual changed", 
   "paths in a commented-out block.", 
   "* subversion/mod_dav_svn/log.c (log_receiver): Handle changed_paths.", 
   "* subversion/libsvn_ra_dav/fetch.c (svn_ra_dav__get_log): Add the", 
   "\"changed-path\" element to the list of allowable elements.", 
   "(log_end_element): Handle the \"changed-path\" element.", 
   "(log_baton): New field `changed_paths'.", 
   "(reset_log_item): Set new field changed_paths to null.", 
   "* subversion/clients/cmdline/log-cmd.c (log_message_receiver_baton):", 
   "New baton struct.  The Story of My Misfortunes: I only needed this", 
   "baton to pass a pool in, and the pool is only needed when the", 
   "`changed_paths' hash is non-null.  At first, I thought I'd just grab a", 
   "pool from the hash using apr_hash_pool_get().  But it turns out that", 
   "accessor doesn't qualify its argument with const, and changed_paths is", 
   "const.  I went off to find out why apr_hash_pool_get() doesn't", 
   "constify its hash parameter, and thus discovered the whole", 
   "APR_POOL_DECLARE_ACCESSOR() thing.  Realized that I was an eminently", 
   "resistable force meeting an immovable object, I gave up and created", 
   "this baton.  But wait, there's more!  Having made that change, I", 
   "discovered on the next compile that changed_paths *can't* be `const'", 
   "now, because apr_hash_first() also won't take a const hash arg: for", 
   "reasons that I suspect (but can't be certain) are obsolete, it uses an", 
   "iterator internal to the hash if you don't pass in a pool in which to", 
   "allocate a new iterator.  Great.  So I went and deconstified the hash", 
   "in the receiver prototype and all its instances.  Once that was done,", 
   "of course, it became possible to use apr_hash_pool_get() again.  Oh,", 
   "the irony, oh the humanity.  But I decided not to anyway, in hopes", 
   "that one day changed_paths can be const again.", 
   "(svn_cl__log): Discover changed paths if verbosity requested.", 
   "* subversion/include/svn_types.h (svn_log_message_receiver_t): Remove", 
   "const qualifier from hash, add comment explaining why this lossage is", 
   "necessary, sigh.  All implementations adjusted accordingly.", 
   "(log_message_receiver): Handle changed_paths.  De-constify hash arg,", 
   "arrgh.", 
   "* subversion/include/svn_repos.h, subversion/libsvn_repos/node_tree.c", 
   "(svn_repos_node_editor): Reverse order of `root' and `base_root'", 
   "params, for intuitiveness.  Doc fixes.", 
   "* subversion/svnlook/main.c (generate_delta_tree): Adjust for above", 
   "reversal.", 
   "Unrelated tweak:", 
   "* subversion/libsvn_fs/proplist.c: #include apr_want.h, for strlen."
  ], 
  "revision_id": "840502"
 }, 
 {
  "author": "sussman", 
  "date": "2001-11-08T23:11:36.531340Z", 
  "msg": [
   "More work toward directory copies.", 
   "* wc.h (svn_wc__recursively_rewrite_ancestry): declare.", 
   "* entries.c (svn_wc__recursively_rewrite_ancestry): implement.", 
   "(fold_entry): check that the va_list 'ap' isn't NULL.", 
   "* adm_ops.c (add_to_revision_control): call the new function if", 
   "scheduling a directory for addition with history."
  ], 
  "revision_id": "840501"
 }
]