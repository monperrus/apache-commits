[
 {
  "author": "brane", 
  "date": "2003-03-26T21:10:29.009087Z", 
  "msg": [
   "Working on issue 639.", 
   "This introduces svn_filesize_t for file sizes and absolute offsets", 
   "into files, and changes most of the FS interfaces to use it instead", 
   "of apr_off_t or apr_size_t.", 
   "We now use apr_size_t only for sizes of and offsets into chunks of", 
   "date (e.g., stream chunks), not for whole file sizes. The delta and", 
   "diff code, and some of the ra_svn marshalling, still use apr_off_t.", 
   "This will be phased out; for now, the interaction points are marked", 
   "with comments saying \"FIXME: svn_filesize_t\".", 
   "This commit also fixes a few places where we weren't using the right", 
   "kind of printf formats, and we now depend on apr-0.9.2 that defines", 
   "APR_UINT64_T_FMT.", 
   "* subversion/include/svn_types.h (svn_filesize_t, SVN_INVALID_FILESIZE,", 
   "SVN_FILESIZE_T_FMT): New type and related constants.", 
   "(apr_atoui64): Temporary: A macro wrapper for apr_atoi64.", 
   "(svn_dirent_t::size): Change from apr_off_t to svn_filesize_t.", 
   "(SVN_STREAM_CHUNK_SIZE): Remove repeated short docstring.", 
   "(SVN_MAX_OBJECT_SIZE): New constant.", 
   "* subversion/include/svn_fs.h (svn_fs_file_length): Change type of", 
   "returned value from apr_off_t to svn_filesize_t.", 
   "* subversion/libsvn_fs/tree.c (file_length_args::length):", 
   "Change from apr_size_t to svn_filesize_t.", 
   "(svn_fs_file_length): Return an svn_filesize_t instead of an apr_off_t.", 
   "* subversion/libsvn_fs/fs.h (svn_fs__rep_delta_chunk_t::offset):", 
   "Change from apr_size_t to svn_filesize_t.", 
   "* subversion/libsvn_fs/dag.h (svn_fs__dag_file_length): Change type of", 
   "returned value from apr_size_t to svn_filesize_t.", 
   "* subversion/libsvn_fs/dag.c (svn_fs__dag_file_length):", 
   "Return an svn_filesize_t instead of an apr_size_t.", 
   "* subversion/libsvn_fs/reps-strings.h (svn_fs__rep_contents_size):", 
   "Change type of returned value from apr_size_t to svn_filesize_t.", 
   "* subversion/libsvn_fs/reps-strings.c (get_one_window): Use svn_filesize_t", 
   "instead of apr_size_t for the offset into svndiff data.", 
   "(rep_undeltify_range): Mark the use of an apr_off_t instead of an", 
   "svn_filesize_t when calling svn_fs__bdb_string_read.", 
   "(get_chunk_offset): Replace the 'offset' parameter with 'rep_offset'", 
   "(input, absolute offset into string) and 'chunk_offset' (output,", 
   "relative offset in stream chunk) because they have different types.", 
   "(rep_read_range): Change the 'offset' parameter from apr_size_t to", 
   "svn_filesize_t, and update the call to get_chunk_offset.", 
   "(rep_read_baton::offset): Change from apr_size_t to svn_filesize_t.", 
   "(rep_read_baton::size): Likewise.", 
   "(svn_fs__rep_contents_size): Return an svn_filesize_t instead of an", 
   "apr_size_t.", 
   "(svn_fs__rep_contents): Update to reflect the above change, and check", 
   "that the size of the rep contents is smaller than SVN_MAX_OBJECT_SIZE", 
   "before attempting to read the representation.", 
   "(window_write_t::text_off): Change from apr_size_t to svn_filesize_t.", 
   "(svn_fs__rep_deltify): Change 'diffsize' from apr_size_t to svn_filesize_t.", 
   "Mark the use of an apr_off_t instead of an svn_filesize_t.", 
   "Change 'old_size' from apr_size_t to svn_filesize_t.", 
   "* subversion/libsvn_fs/bdb/strings-table.h (svn_fs__bdb_string_read):", 
   "Change 'offset' parameter from apr_off_t to svn_filesize_t.", 
   "(svn_fs__bdb_string_size) Change type of returned value from apr_size_t", 
   "to svn_filesize_t. All callers updated.", 
   "* subversion/libsvn_fs/bdb/strings-table.c: Implement the above changes.", 
   "* subversion/libsvn_fs/util/fs_skels.c (svn_fs__parse_representation_skel):", 
   "Use apr_atoui64 instead of atoi to parse the chunk offset.", 
   "(svn_fs__unparse_representation_skel): Use SVN_FILESIZE_T_FMT to", 
   "write the chunk offset.", 
   "* subversion/bindings/ruby/fs_node.c (file_length): Use svn_filesize_t.", 
   "* subversion/mod_dav_svn/liveprops.c (dav_svn_insert_prop): Use", 
   "svn_filesize_t and SVN_FILESIZE_T_FMT in the", 
   "DAV_PROPID_getcontentlength case.", 
   "* subversion/mod_dav_svn/repos.c (dav_svn_set_headers): Use svn_filesize_t", 
   "for the content length, and cast to apr_off_t when calling", 
   "ap_set_content_length.", 
   "* subversion/libsvn_ra_dav/fetch.c (svn_ra_dav__get_dir): Use apr_atoui64", 
   "to parse the dirent size instead of an atoi + cast to apr_off_t.", 
   "* subversion/libsvn_ra_svn/client.c (ra_svn_get_dir): Mark the use of", 
   "a \"plain\" apr_uint64_t instead of an svn_filesize_t.", 
   "* subversion/libsvn_ra_svn/marshal.c (svn_ra_svn_write_number): Use", 
   "APR_UINT64_T_FMT instead of APR_INT64_T_FMT to write unsigned numbers.", 
   "* subversion/libsvn_repos/dump.c (write_hash_to_stringbuf): Use", 
   "APR_SIZE_T_FMT to write a prop value length, instead of \"%ld\" and", 
   "cast to long int.", 
   "(dump_node): Use svn_filesize_t for 'textlen' and 'content_length', and", 
   "SVN_FILESIZE_T_FMT to write same.", 
   "(svn_repos_dump_fs): Use SVN_REVNUM_T to write revision numbers.", 
   "* subversion/libsvn_repos/load.c (parse_property_block, parse_text_block):", 
   "Change type of 'content_length' parameter from apr_size_t to", 
   "svn_filesize_t.", 
   "(svn_repos_parse_dumpstream): Use apr_atoui64 instead of atoi + cast", 
   "to apr_size_t to parse content length parameters.", 
   "* subversion/clients/cmdline/ls-cmd.c (print_dirents): Use SVN_FILESIZE_T_FMT", 
   "instead of \"%ld\" + cast to long int to print entry sizes.", 
   "* subversion/libsvn_subr/hash.c (svn_hash_write): Use APR_SIZE_T_FMT instead", 
   "of \"%ld\" + cast to long int to print prop lengths.", 
   "* subversion/tests/libsvn_fs/strings-reps-test.c (verify_expected_record,", 
   "txn_body_string_size): Use svn_filesize_t, and check the retrieved sizes", 
   "against SVN_MAX_OBJECT_SIZE."
  ], 
  "revision_id": "845550"
 }, 
 {
  "author": "cmpilato", 
  "date": "2003-03-26T20:20:47.548555Z", 
  "msg": [
   "* subversion/tests/clients/cmdline/update_tests.py", 
   "(test_list): Skip the update_receive_illegal_name() test, and leave", 
   "a comment about why (and how to re-enable in the future)."
  ], 
  "revision_id": "845549"
 }, 
 {
  "author": "kfogel", 
  "date": "2003-03-26T20:12:21.213368Z", 
  "msg": [
   "Fix issue #1160: The ra_svn server could crash when serving from an", 
   "legacy repository that doesn't have checksums for some files.  Much", 
   "thanks to Greg Hudson for advice about how to fix this.", 
   "* subversion/svnserve/serve.c", 
   "(get_file): Send hex_digest last, and only if non-null.", 
   "* subversion/libsvn_ra_svn/client.c", 
   "(ra_svn_get_file): Read expected_checksum last, and skip the", 
   "checksum code if it's absent."
  ], 
  "revision_id": "845548"
 }, 
 {
  "author": "kfogel", 
  "date": "2003-03-26T19:22:05.834627Z", 
  "msg": [
   "Fix tupo."
  ], 
  "revision_id": "845547"
 }, 
 {
  "author": "cmpilato", 
  "date": "2003-03-26T19:16:21.050558Z", 
  "msg": [
   "* subversion/libsvn_client/add.c", 
   "(svn_client_mkdir): Don't allow people to create directories named", 
   "the same as the working copy admin subdir with 'svn mkdir URL'."
  ], 
  "revision_id": "845546"
 }
]