[
 {
  "author": "jpieper", 
  "date": "2004-04-12T00:26:51.722181Z", 
  "msg": [
   "Utilize the existing representation structure for our own purposes and", 
   "eliminate the need to shove around many variables everywhere a", 
   "representation is used.  Also minor changes to make the read code", 
   "easier to interface with make-revs.c and add MD5 hash support.", 
   "* subversion/libsvn_fs_fs/fs.h", 
   "(svn_fs__representation_t): Move above node revision structure", 
   "and change the fields to fit the fs_fs representation format.", 
   "(svn_fs__node_revision_t): Replace the individual representation", 
   "fields with svn_fs__representation_t structures, add a separate", 
   "copyfrom rev and path.", 
   "* subversion/libsvn_fs_fs/fs_fs.c", 
   "(svn_fs__fs_youngest_revision): NULL terminate the current", 
   "revision string.", 
   "(open_and_seek_revision, svn_fs__fs_rev_get_root,", 
   "svn_fs__fs_revision_proplist): Remove the leading 'r' from", 
   "revision file names.", 
   "(read_rep_offsets): Return a svn_fs__representation_t structure", 
   "and also read in the MD5 hash.", 
   "(svn_fs__fs_get_node_revision): Use the new representation", 
   "structures and handle the new copyfrom fields.", 
   "(rep_read_get_baton, get_representation_at_offet,", 
   "svn_fs__fs_get_contents, svn_fs__fs_get_proplist,", 
   "svn_fs__fs_file_length): Pass representation data around in", 
   "svn_fs__representation_t structures.", 
   "(svn_fs__fs_noderev_same_prop_key,", 
   "svn_fs__fs_noderev_same_data_key): Removed", 
   "(svn_fs__fs_noderev_same_rep_key): New, compare two", 
   "representation structures to see if they definitely point to", 
   "the same representation.", 
   "(svn_fs__fs_file_checksum): New, return the md5 hash of a", 
   "noderev.", 
   "(svn_fs__fs_rep_copy): New, copy a representation structure.", 
   "* subversion/libsvn_fs_fs/fs_fs.h", 
   "(svn_fs__fs_noderev_same_prop_key,", 
   "svn_fs__fs_noderev_same_data_key): Removed.", 
   "(svn_fs__fs_noderev_same_rep_key): New", 
   "(svn_fs__fs_rep_copy): New", 
   "(svn_fs__fs_file_checksum): New", 
   "* subversion/libsvn_fs_fs/dag.c", 
   "(copy_node_revision): Copy the new representation types along", 
   "with the rest of a noderev.", 
   "(svn_fs__dag_file_checksum): Implement using fs_fs API.", 
   "(svn_fs__things_different): Use the new representation comparing", 
   "function.", 
   "* subversion/libsvn_fs_fs/tree.c", 
   "(merge): Compare representation keys using new comparing function.", 
   "(svn_fs_contents_changed): Implement in the same fashion as it", 
   "originally was."
  ], 
  "revision_id": "849405"
 }, 
 {
  "author": "ghudson", 
  "date": "2004-04-12T00:17:57.054128Z", 
  "msg": [
   "Fix two bugs in the fsfs dumpfile converter.", 
   "* libsvn_fs_fs/make-revs.c", 
   "(write_field): Add a missing colon in the counted field format.", 
   "(write_node_rev): Add a missing space and delete an erroneous", 
   "newline in the copyfrom value format."
  ], 
  "revision_id": "849404"
 }, 
 {
  "author": "ghudson", 
  "date": "2004-04-11T22:54:46.499533Z", 
  "msg": [
   "Small improvements to fsfs dumpfile converter.", 
   "* libsvn_fs_fs/make-revs.c: Create a structure to unify the handling", 
   "of the text and props representations.  Add code to use the counted", 
   "field representation when the value contains a newline.", 
   "(struct rep_pointer): New structure to hold the data used to point", 
   "to a representation in a rev file.", 
   "(struct entry): Collapse text and props representation fields into", 
   "rep_pointer structures.", 
   "(init_rep): Convenience function to initialize a rep pointer.", 
   "(new_entry): Adjust for field changes.", 
   "(repstr): Convenience function to marshal a rep pointer.", 
   "(write_hash_rep): Simplify output fields using a struct rep_pointer.", 
   "(write_directory_rep, write_props): Adjust for write_hash_rep change.", 
   "(write_field): New convenience function to write out a field, using", 
   "the counted representation if the value contains newlines.", 
   "(write_node_rev): Use write_field and repstr to simplify.  We now", 
   "correctly handle newlines in pathnames in the copyfrom and cpath", 
   "fields.", 
   "(text_close, set_fulltext): Adjust for entry field changes."
  ], 
  "revision_id": "849403"
 }, 
 {
  "author": "ghudson", 
  "date": "2004-04-11T22:29:05.932188Z", 
  "msg": [
   "Add digests to the fsfs structure document and converter.", 
   "* libsvn_fs_fs/structure: Add digests to text and prop fields.", 
   "* libsvn_fs_fs/make-revs.c:", 
   "(struct entry): Add text_digest and props_digest fields.", 
   "(hash_write): Local implementation of what will be svn_hash_write2.", 
   "(new_entry): Initialize new fields.  (Also props_len.)", 
   "(write_hash_rep): Helper function to write out a representation", 
   "from a hash, computing its MD5 digest.", 
   "(write_directory_rep): Convert the children hash to a dumpable", 
   "hash map and dump that using write_hash_rep.", 
   "(write_props): Use write_hash_rep helper.", 
   "(write_node_rev): Output digest fields.", 
   "(new_revision_record): Fix some whitspace errors.", 
   "(text_write, text_close): Stream functions to compute an MD5 digest", 
   "while outputting to the rev file.  stream_close also takes care of", 
   "recording the rep length and writing the trailer, formerly handled", 
   "in close_node.", 
   "(set_fulltext): Use above stream handlers so that we compute the MD5", 
   "digest when the caller feeds us data.", 
   "(close_node): Nothing left to do here anymore."
  ], 
  "revision_id": "849402"
 }, 
 {
  "author": "ghudson", 
  "date": "2004-04-11T20:06:25.290059Z", 
  "msg": [
   "jpieper says having the node type in the directory entries saves some", 
   "lookups.  So add them back in.  (I had taken them out for similarity", 
   "with the BDB code.)  Also make some tweaks for compatibility with his", 
   "reading code.", 
   "* libsvn_fs_fs/structure: Add directory entry types back in.  Stick a", 
   "newline before the final offsets line so we have something to search", 
   "backwards for.", 
   "* libsvn_fs_fs/make_revs.c:", 
   "(write_directory_rep): Write out directory entry types.", 
   "(write_node_rev): Write out the terminating blank line at the end.", 
   "(close_revision): Write out the offsets lines at the end."
  ], 
  "revision_id": "849401"
 }
]