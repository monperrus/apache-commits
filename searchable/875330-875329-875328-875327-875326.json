[
 {
  "author": "stsp", 
  "date": "2009-01-14T22:31:50.081295Z", 
  "msg": [
   "Unbreak trunk build for platforms which do not have ENOTSUP defined,", 
   "e.g. OpenBSD.", 
   "This is actually a bug in sqlite [1]. They #ifdef'd ENOTSUP in some", 
   "places, but not all. I have no idea if this fix is correct.", 
   "I'm not an sqlite developer. And we actually don't want to have", 
   "to apply custom patches to this file in the first place.", 
   "This commit should be backed out once external sqlite libraries", 
   "can be used again. It's a temporary band-aid only to unbreak the", 
   "build for me, and possibly others.", 
   "* subversion/libsvn_subr/sqlite3_c.h", 
   "(full_fsync): Don't blindly assume ENOTSUP exists.", 
   "[1] http://www.sqlite.org/cvstrac/tktview?tn=3512"
  ], 
  "revision_id": "875330"
 }, 
 {
  "author": "glasser", 
  "date": "2009-01-14T22:11:47.462659Z", 
  "msg": [
   "Followup to r32523: remove the get_all_kinds_and_copyfroms flag from", 
   "svn_fs_paths_changed2, because it didn't really work; for example, it", 
   "would get the wrong answer on deletes, and fixing it in the general", 
   "case would be non-trivial (it would essentially need all the replay", 
   "logic).  Leave filling in this data to the consumer.  This should make", 
   "the BDB tests pass again.", 
   "* subversion/include/svn_fs.h", 
   "(svn_fs_paths_changed2): Remove get_all_kinds_and_copyfroms argument;", 
   "update docstring.", 
   "* subversion/libsvn_fs/fs-loader.c", 
   "(svn_fs_paths_changed2): Remove get_all_kinds_and_copyfroms argument", 
   "and its logic.", 
   "(svn_fs_paths_changed): Adjust.", 
   "* subversion/libsvn_repos/replay.c", 
   "(path_driver_cb_func): Look up kind and copyfrom if it's not there.", 
   "(svn_repos_replay2): Adjust."
  ], 
  "revision_id": "875329"
 }, 
 {
  "author": "hwright", 
  "date": "2009-01-14T21:21:03.437857Z", 
  "msg": [
   "Followup to r35253: Change variable name to avoid shadowing a new function name.", 
   "* subversion/libsvn_fs_fs/tree.c", 
   "(fs_delete_node): Rename node_kind to kind."
  ], 
  "revision_id": "875328"
 }, 
 {
  "author": "glasser", 
  "date": "2009-01-14T21:09:17.447364Z", 
  "msg": [
   "Rev svn_fs_paths_changed to include the node kind and copyfrom", 
   "information for the changed paths, with a flag controlling whether or", 
   "not the user *really* wants the information (that is, whether to fetch", 
   "it even if it isn't \"free\" with the changed path list).", 
   "In FSFS, start recording node kinds in the changed paths list for", 
   "format 4 revisions and for all transactions.  (FSFS already stored", 
   "copyfrom information in all changed paths list.)  In BDB, don't (yet)", 
   "return any of this data unless the I-really-want-it-even-if-it's-slow", 
   "flag is set.", 
   "Update svn_repos_replay to use the new API; this means that for the", 
   "send_delta=False case, replay doesn't need to do any FS touching other", 
   "than the initial svn_fs_paths_changed2.  (Well, and some MD5 lookups,", 
   "which could probably be removed later.)  This can speedup some uses of", 
   "replay, such as the ChangeCollector in the Python bindings which is", 
   "used by mailer.py.", 
   "This is also a first step towards fixing Issue #1967, though I don't", 
   "personally plan to continue down that road.", 
   "* subversion/include/svn_fs.h", 
   "(svn_fs_path_change2_t): Rev with new node_kind and copyfrom_* fields.", 
   "(svn_fs_path_change_t): Deprecate.", 
   "(svn_fs_paths_changed2): Rev, returning the new type and taking a", 
   "new flag.", 
   "(svn_fs_paths_changed): Deprecate.", 
   "* subversion/libsvn_fs/fs-loader.c", 
   "(svn_fs_paths_changed2): New; implements the", 
   "get_all_kinds_and_copyfroms flag.", 
   "(svn_fs_paths_changed): Implement in terms of new version.", 
   "* subversion/libsvn_fs_base/bdb/changes-table.c", 
   "(fold_change): Use new type; initialize new fields.", 
   "* subversion/libsvn_fs_base/bdb/changes-table.h", 
   "(svn_fs_bdb__changes_fetch): Update docstring.", 
   "* subversion/libsvn_fs_base/tree.c", 
   "(verify_locks): Use new type.", 
   "* subversion/libsvn_fs_fs/fs.h", 
   "(SVN_FS_FS__MIN_KIND_IN_CHANGED_FORMAT): New.", 
   "(change_t): Add node_kind field.", 
   "* subversion/libsvn_fs_fs/fs_fs.c", 
   "(fold_change): Use new type.  Use copyfrom_cache purely for its", 
   "caching-on-rev-root purpose rather than as the only place that", 
   "copyfrom data is stored (it is now stored inside the changed_ts", 
   "themselves).", 
   "(read_change): Read kind from action if it is there.", 
   "(fetch_all_changes): Don't use a copyfrom_cache unless one is", 
   "passed in.", 
   "(svn_fs_fs__txn_changes_fetch): Don't use a copyfrom_cache.", 
   "(write_change_entry): Use new type.  Write the node kind too if", 
   "requested.", 
   "(svn_fs_fs__add_change): Use new type.  Take node_kind argument.", 
   "(write_final_changed_path_info): Use new type.  Don't use a", 
   "copyfrom_cache.  Check format to see if we should write kinds.", 
   "(verify_locks): Use new type.  Adjust.", 
   "* subversion/libsvn_fs_fs/fs_fs.h", 
   "(svn_fs_fs__add_change): Take node_kind argument.", 
   "(svn_fs_fs__txn_changes_fetch): Don't use a copyfrom_cache.", 
   "* subversion/libsvn_fs_fs/structure", 
   "Document storage of node kind in changed paths lists.", 
   "* subversion/libsvn_fs_fs/tree.c", 
   "(add_change): Take node_kind argument.", 
   "(fs_change_node_prop, fs_make_dir, fs_delete_node, copy_helper,", 
   "fs_make_file, apply_textdelta, apply_text): Pass node kind to", 
   "add_change.", 
   "(fs_paths_changed): Update docstring; remove copyfrom_cache from", 
   "svn_fs_fs__txn_changes_fetch call.", 
   "* subversion/libsvn_repos/replay.c", 
   "(add_subdir): Use new type.", 
   "(path_driver_cb_func): Use new type; replace calls to", 
   "svn_fs_check_path and svn_fs_copied_from with field references.", 
   "(svn_repos_replay2): Use new API and type."
  ], 
  "revision_id": "875327"
 }, 
 {
  "author": "pburba", 
  "date": "2009-01-14T20:59:58.086237Z", 
  "msg": [
   "Follow-up to r35241, use the sqlite amalgamation included in libsvn_subr", 
   "when building on Windows.", 
   "[Reverted in r35294]", 
   "* build/generator/gen_win.py", 
   "(GeneratorBase.parse_options): Remove self.sqlite_path initialization", 
   "and parsing of '--with-sqlite' option.", 
   "(WinGeneratorBase.__init__): Don't try to find sqlite.", 
   "(WinGeneratorBase.get_win_includes,", 
   "WinGeneratorBase.get_win_lib_dirs,", 
   "WinGeneratorBase.get_win_libs): Remove sqlite related stuff.", 
   "(WinGeneratorBase._find_sqlite): Remove.", 
   "* gen-make.py", 
   "(_usage_exit, Options): Remove --with-sqlite option."
  ], 
  "revision_id": "875326"
 }
]