[
 {
  "author": "kfogel", 
  "date": "2001-07-24T23:51:55.000000Z", 
  "msg": [
   "* hooks.c, hooks.h: New files, with empty hook driver definitions.", 
   "* tree.c (svn_fs_commit_txn): Run hooks."
  ], 
  "revision_id": "839785"
 }, 
 {
  "author": "kfogel", 
  "date": "2001-07-24T23:36:54.000000Z", 
  "msg": [
   "Remove start-commit hooks.  They are useless -- we don't know at", 
   "txn-creation time whether the txn is being created for reading or", 
   "writing purposes, so we can't put a write guard there.  Instead, the", 
   "write sentinels will take care of that.", 
   "Remove the recent svn_repos_fs_commit_txn() function, change all", 
   "callers back to svn_fs_commit_txn().  We will run the hooks from", 
   "libsvn_fs, not libsvn_repos; put notes at those spots."
  ], 
  "revision_id": "839784"
 }, 
 {
  "author": "kfogel", 
  "date": "2001-07-24T23:20:32.000000Z", 
  "msg": [
   "Pass a username around, in anticipation of hooks that use it, and wrap", 
   "svn_fs_commit_txn() with svn_repos_fs_commit_txn().  The latter honors", 
   "hooks.", 
   "Note that the user arg added everywhere is `const char *'.  This is", 
   "inconsistent with the many `svn_string_buf_t *' args around it, but", 
   "there's no point perpetuating the insanity, even though we haven't", 
   "gotten around to cleaning up the svn_string_t/svn_stringbuf_t stuff", 
   "yet.", 
   "* libsvn_ra_local/ra_plugin.c (get_commit_editor): Take new `user'", 
   "arg, pass it along.", 
   "* include/svn_ra.h (svn_ra_plugin_t): Adjust prototype and doc for", 
   "get_commit_editor.", 
   "* include/svn_repos.h (svn_repos_get_editor): New `user' arg.", 
   "(svn_repos_fs_commit_txn): New prototype.", 
   "* libsvn_client/commit.c (send_to_repos): Take new `user' arg.", 
   "* libsvn_ra_dav/commit.c (commit_ctx_t): New `user' field.", 
   "(svn_ra_dav__get_commit_editor): Take new `user' arg.", 
   "* libsvn_ra_dav/ra_dav.h (svn_ra_dav__get_commit_editor): Adjust", 
   "prototype for above.", 
   "* libsvn_client/commit.c (svn_client_import, svn_client_commit): Take", 
   "new `user' arg, pass it along.", 
   "* include/svn_client.c (svn_client_import, svn_client_commit): Doc", 
   "fixes.", 
   "* libsvn_repos/commit_editor.c (edit_baton): New `user' field.", 
   "(svn_repos_get_editor): Take new `user' arg, store in edit baton.", 
   "(close_edit): Set author prop on the txn, as well as date.", 
   "* libsvn_repos/hooks.c (svn_repos_fs_commit_txn): Define.", 
   "* clients/cmdline/commit-cmd.c (svn_cl__commit): Pass new `user' arg.", 
   "* clients/cmdline/import-cmd.c (svn_cl__import): Pass new `user' arg.", 
   "* include/svn_types.h (SVN_PROP_REVISION_AUTHOR): New #define.", 
   "* include/svn_fs.h (svn_fs_commit_txn): Warn callers that they", 
   "probably want to use svn_repos_fs_commit_txn.  All callers changed", 
   "except for fs tests."
  ], 
  "revision_id": "839783"
 }, 
 {
  "author": "kfogel", 
  "date": "2001-07-24T22:21:39.000000Z", 
  "msg": [
   "Note that Chris Conrad has taken issue 402."
  ], 
  "revision_id": "839782"
 }, 
 {
  "author": "sussman", 
  "date": "2001-07-24T21:32:42.000000Z", 
  "msg": [
   "Fix two genuine filesystem bugs.  Ben drives, Karl finds.", 
   "(`prop_tests.py 2' now passes.  prop_tests.py #3, however, still fails", 
   "due to ancient bug #352.  This needs to be fixed.)", 
   "* node-rev.c (deltify):  don't deltify identical reps.", 
   "* tree.c (svn_fs_commit_txn):  return *all* errors from commit,", 
   "preventing false positives.", 
   "* prop_tests.py (commit_props, update_props):  a number is not a string."
  ], 
  "revision_id": "839781"
 }
]