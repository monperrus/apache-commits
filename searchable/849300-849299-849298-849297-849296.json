[
 {
  "author": "ghudson", 
  "date": "2004-03-29T22:06:57.369187Z", 
  "msg": [
   "Add support for \"svnadmin dump --deltas\".", 
   "* notes/fs_dumprestore.txt: Document the version 3 dump format.", 
   "* subversion/svnadmin/main.c", 
   "(svnadmin__deltas, options, cmd_table, svnadmin_opt_state, main):", 
   "Add new \"deltas\" option.", 
   "(subcommand_dump): Use new svn_repos_dump_fs2 function; pass true", 
   "for new use_deltas parameter if --deltas specified.", 
   "* subversion/include/svn_repos.h", 
   "(SVN_REPOS_DUMPFILE_FORMAT_VERSION): Bump.  However, we will", 
   "continue to use the previous version except when doing a delta", 
   "dump.", 
   "(SVN_REPOS_DUMPFILE_PROP_DELTA, SVN_REPOS_DUMPFILE_TEXT_DELTA);", 
   "New headers to signify whether the property and text contents are", 
   "deltas.", 
   "(svn_repos_dump_fs2): New variant of svn_repos_dump_fs with a new", 
   "parameter use_deltas.", 
   "(svn_repos_parse_fns2_t): New variant of svn_repos_parse_fns_t", 
   "with added callbacks delete_node_property and apply_textdelta,", 
   "to handle dumpstreams using deltas.", 
   "(svn_repos_parse_dumpstream2): New variant of", 
   "svn_repos_parse_dumpstream, accepts an svn_repos_parse_fns2_t.", 
   "(svn_repos_get_fs_build_parser2): New variant of", 
   "svn_repos_get_fs_build_parser, yields an svn_repos_parse_fns2_t.", 
   "(svn_repos_dump_fs, svn_repos_parse_fns_t,", 
   "svn_repos_parse_dumpstream, svn_repos_get_fs_build_parser):", 
   "Deprecate.", 
   "* subversion/libsvn_repos/load.c", 
   "(fns2_from_fs): Utility function to convert old-style callbacks to", 
   "new-style callbacks, for API transition.", 
   "(parse_property_block): Accept new-style callbacks.  For node", 
   "property blocks, recognize \"D <keylen>\\n<key>\\n\" to mean a deleted", 
   "property.", 
   "(parse_text_block): Accept new-style callbacks and new parameter", 
   "is_delta.  If is_delta is true, treat the text block as svndiff", 
   "data.", 
   "(svn_repos_parse_dumpstream2): Renamed from", 
   "svn_repos_parse_dumpstream.  Accept new-style callbacks.  If given", 
   "old-style callbacks via deprecated function, reject current-format", 
   "dumpstreams.  Recognize delta property and text blocks.", 
   "(svn_repos_parse_dumpstream): Implement deprecated function using", 
   "fns2_from_fns and svn_repos_parse_dumpstream2.", 
   "(delete_node_property, apply_textdelta): New callbacks to handle", 
   "delta property and text blocks.", 
   "(svn_repos_get_fs_build_parser2): Implement using deprecated", 
   "svn_repos_get_fs_build_parser and fns2_from_fns.  This is sorta", 
   "backwards, but this way we can convert in the same direction as", 
   "svn_repos_parse_dumpstream2 does.", 
   "(svn_repos_load_fs): Use new parsing functions so that we can load", 
   "dumps which use deltas.", 
   "* subversion/libsvn_repos/dump.c", 
   "(write_hash_to_stringbuf): Accept an oldhash parameter; if given,", 
   "don't write unchanged props, and do write deleted props.", 
   "(store_delta): New helper function to compute a delta, store it", 
   "to a temporary file, and then rewind and return the file.", 
   "(edit_baton): Add use_deltas field.", 
   "(dump_node): If use_deltas is set, output delta prop and text", 
   "blocks.  Also simplify the determination of whether we must dump", 
   "props and text a bit.", 
   "(get_dump_editor): Add use_deltas flag and store it in the editor", 
   "baton.", 
   "(write_revision_record): Adjust call to write_hash_to_stringbuf.", 
   "(svn_repos_dump_fs2): Renamed from svn_repos_dump_fs.  Accept new", 
   "use_deltas flag.  If not set, use the old format version so that", 
   "dumps can still be read by svn 1.0.x.  Pass use_deltas flag to", 
   "get_dump_editor, except for the first rev of a non-incremental", 
   "dump.", 
   "(svn_repos_dump_fs): Implement deprecated function in terms of", 
   "svn_repos_dump_fs."
  ], 
  "revision_id": "849300"
 }, 
 {
  "author": "ehu", 
  "date": "2004-03-29T21:01:50.667116Z", 
  "msg": [
   "Revert r9168.", 
   "See http://subversion.tigris.org/servlets/ReadMsg?list=dev&msgNo=61751", 
   "for why retraction was needed. The log message for r9168:", 
   "Add default apr(-util) installation location to apr(-util) search list.", 
   "* /build/ac-macros/find_apr.m4", 
   "(APR_FIND_APR): Add /usr/local/apr to the search list.", 
   "* /build/ac-macros/find_apu.m4", 
   "(APR_FIND_APU): Add /usr/local/apr to the search list."
  ], 
  "revision_id": "849299"
 }, 
 {
  "author": "ehu", 
  "date": "2004-03-29T20:55:41.715518Z", 
  "msg": [
   "Website update / enhancement", 
   "* www/project_links.html: Add note that currently for Subversion support in", 
   "ViewCVS a CVS checkout is required.", 
   "* www/project_faq.html (#auth-digest): Note that digest authentication was", 
   "broken in pre-2.0.49 versions of Apache2."
  ], 
  "revision_id": "849298"
 }, 
 {
  "author": "ehu", 
  "date": "2004-03-29T20:49:27.854359Z", 
  "msg": [
   "Retract r9168 and vote.", 
   "See http://subversion.tigris.org/servlets/ReadMsg?list=dev&msgNo=61751", 
   "for why retraction was needed."
  ], 
  "revision_id": "849297"
 }, 
 {
  "author": "ghudson", 
  "date": "2004-03-29T20:16:49.920910Z", 
  "msg": [
   "Fix the start-empty handling in the new reporter to apply to props.", 
   "* libsvn_repos/reporter.c (delta_dirs): Pass a NULL source path", 
   "parameter to delta_proplists if we're starting empty, so that all", 
   "properties are added."
  ], 
  "revision_id": "849296"
 }
]