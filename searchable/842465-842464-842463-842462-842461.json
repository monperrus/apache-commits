[
 {
  "author": "jerenkrantz", 
  "date": "2002-07-02T09:26:19.347848Z", 
  "msg": [
   "Place mod_dav_svn on a 3-part Slim-Fast(TM) diet.", 
   "1) Use a subpool when generating the live properties.", 
   "2) Use a subpool when iterating the hash table for walking all files in a dir.", 
   "3) Use a subpool when creating the properties database.", 
   "Before this, a checkout of linux/include, required approx. 488MB in httpd.", 
   "Step #1 reduced to 168MB.  Step #2 took it to 115MB.  Step #3 shrank to 64MB.", 
   "Many thanks to Kevin and Sander for helping out.", 
   "* subversion/mod_dav_svn/dav_svn.h (dav_resource_private): Add a pool", 
   "value to the private structure.  The other core DAV fs modules have a pool", 
   "in the info structure.  This allows a temporary pool to be used at key", 
   "points.  Modification of dav_svn_insert_prop to take a pool parameter", 
   "would be much better, but that requires a change to all DAV modules that", 
   "support liveprops.  A change here will require Greg's blessing.", 
   "* subversion/mod_dav_svn/liveprops.c: Include svn_pools.h.", 
   "(dav_svn_insert_prop): Use new resource->info->pool as a temporary allocation", 
   "for retrieving the live properties.  Use resource->pool as the 'response_pool'", 
   "to store any data that we expect to be part of the response.  If the data is", 
   "expected to live longer than this function, use response_pool, otherwise use p.", 
   "(dav_svn_insert_all_liveprops): Create a subpool of resource->info->pool and", 
   "use that in the dav_svn_insert_prop call - clearing it each iteration.", 
   "* subversion/mod_dav_svn/repos.c:", 
   "(dav_svn_do_walk): Create a temporary pool that can be cleared on each", 
   "iteration through the loop.  Change the one direct reference of params->pool", 
   "to params_subpool.", 
   "(dav_svn_walk): Create a pool in ctx.info.pool that can be used for temporary", 
   "allocations (this is picked up by liveprops.c).", 
   "* subversion/mod_dav_svn/deadprops.c: Include svn_pools.h.", 
   "(dav_svn_db_open): Create db->p as a subpool of the passed in pool (p).", 
   "Switch db->work's allocation to be from this subpool.", 
   "(dav_svn_db_close): Destroy the db->p subpool when closing."
  ], 
  "revision_id": "842465"
 }, 
 {
  "author": "blair", 
  "date": "2002-07-02T06:14:53.118644Z", 
  "msg": [
   "* tools/hook-scripts/commit-email.pl:", 
   "Make commit-email.pl support a single repository with multiple", 
   "projects, where each project receives email only for commits that", 
   "modify that project.  Projects are identified with regular", 
   "expressions to match against the paths in the commit.  To support", 
   "a single project and the old usage, the script initializes itself", 
   "with an implicit -m . rule that matches any modifications to the", 
   "entire repository and lets administrators use the other command", 
   "line options and list email addresses for the entire repository as", 
   "before.", 
   "Do not quit if any pipes cannot be spawned or output log files can", 
   "be appended to, because one of the following projects may succeed.", 
   "If open() fails, print the $! error string.", 
   "Put a rather long usage string in the script.  Remove the short", 
   "usage text in the comments at the top of the script, deferring to", 
   "the script usage output instead."
  ], 
  "revision_id": "842464"
 }, 
 {
  "author": "brane", 
  "date": "2002-07-02T00:56:56.803887Z", 
  "msg": [
   "Fixing issue #642.", 
   "* strings-table.c (string_read): Removed; code merged into svn_fs__string_read."
  ], 
  "revision_id": "842463"
 }, 
 {
  "author": "kfogel", 
  "date": "2002-07-01T22:13:31.434664Z", 
  "msg": [
   "Working on issue #494:", 
   "Apply a portion of Marcus Comstedt's large patch.  Result: all calls", 
   "to apr functions dealing with paths have been isolated to the svn_io", 
   "library, which has been extended to make this possible.  This lays the", 
   "groundwork for us to later add UTF-8 conversion, i.e., the rest of", 
   "Marcus's patch.", 
   "Note that this commit itself doesn't deal with any UTF-8 issues.  And", 
   "the UTF-8 conversion code in Marcus's patch is interleaved with the", 
   "stuff included in this commit.  Thus, finishing this is not just a", 
   "matter of applying previously unapplied hunks.  Rather, we'll have to", 
   "apply the entire patch, and resolve the rejections appropriately,", 
   "which shouldn't be too hard.  Although this is extra effort, doing it", 
   "in stages makes each change more stable... and reviewable.", 
   "* subversion/include/svn_io.h: Add a general comment about upcoming", 
   "charset handling.", 
   "(svn_io_file_open, svn_io_stat, svn_io_file_rename, svn_io_dir_make,", 
   "svn_io_dir_open, svn_io_dir_remove_nonrecursive, svn_io_dir_read,", 
   "svn_io_file_printf): New prototypes.", 
   "* subversion/libsvn_subr/io.c", 
   "(svn_io_file_open, svn_io_stat, svn_io_file_rename, svn_io_dir_make,", 
   "svn_io_dir_open, svn_io_dir_remove_nonrecursive, svn_io_dir_read,", 
   "svn_io_file_printf): New functions.", 
   "* subversion/include/svn_path.h, subversion/libsvn_subr/target.c", 
   "(svn_path_get_absolute): Add `const' qualifier to pabsolute return", 
   "parameter.", 
   "(svn_path_condense_targets): Adjust accordingly.", 
   "(svn_path_remove_redundancies): Adjust accordingly.", 
   "* subversion/svnlook/main.c", 
   "(print_diff_tree): Adjust accordingly.", 
   "* subversion/libsvn_client/copy.c", 
   "(wc_to_repos_copy): Adjust accordingly.", 
   "* subversion/libsvn_client/commit.c", 
   "(svn_client_commit): Adjust accordingly.", 
   "* subversion/libsvn_repos/repos.c,", 
   "subversion/libsvn_subr/target.c,", 
   "subversion/libsvn_client/externals.c,", 
   "subversion/libsvn_client/checkout.c,", 
   "subversion/libsvn_client/copy.c,", 
   "subversion/libsvn_client/repos_diff.c,", 
   "subversion/libsvn_client/export.c,", 
   "subversion/libsvn_client/update.c,", 
   "subversion/libsvn_client/add.c,", 
   "subversion/libsvn_client/commit.c,", 
   "subversion/libsvn_wc/merge.c,", 
   "subversion/libsvn_wc/props.c,", 
   "subversion/libsvn_wc/diff.c,", 
   "subversion/libsvn_wc/copy.c,", 
   "subversion/libsvn_wc/util.c,", 
   "subversion/libsvn_wc/adm_crawler.c,", 
   "subversion/libsvn_wc/log.c,", 
   "subversion/libsvn_wc/adm_ops.c,", 
   "subversion/libsvn_wc/adm_files.c,", 
   "subversion/libsvn_wc/update_editor.c,", 
   "subversion/libsvn_wc/questions.c,", 
   "subversion/libsvn_wc/translate.c: Replaced APR calls dealing with", 
   "pathnames with calls to svn_io_* wrappers."
  ], 
  "revision_id": "842462"
 }, 
 {
  "author": "sussman", 
  "date": "2002-07-01T22:11:59.832216Z", 
  "msg": [
   "Backport of fix of bug #776 (r2386) from /trunk to fs-convert-2092 branch.", 
   "(\"Let the dumper call svn_fs_contents_changed() on any two nodes.\")"
  ], 
  "revision_id": "842461"
 }
]