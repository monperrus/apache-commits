[
 {
  "author": "nspiegelberg", 
  "date": "2011-10-11T02:22:52.114486Z", 
  "msg": [
   "Reduce log frequency when writing a compound Bloom filter (please ignore)", 
   "Summary: This one-line change reduces the frequency of log messages generated", 
   "when adding new compound Bloom filter blocks. This is the initial version of", 
   "the change that was not reviewed and got into the repository by mistake. It is", 
   "superseded by revision 15937 (https://phabricator.fb.com/rH15937).", 
   "Test Plan: Unit tests. Looking at the output produced by", 
   "TestCompoundBloomFilter.", 
   "Reviewers: kannan, nspiegelberg", 
   "Commenters: nspiegelberg", 
   "CC: hbase@lists, , nspiegelberg, kannan", 
   "Revert Plan: OK"
  ], 
  "revision_id": "1181585"
 }, 
 {
  "author": "nspiegelberg", 
  "date": "2011-10-11T02:22:45.005547Z", 
  "msg": [
   "Fix bug in HLog splitting.", 
   "Summary:", 
   "The HLog split logic incorrectly used to archive old logs before all", 
   "the new log files were written out and closed successfully. This has", 
   "been fixed in this diff.", 
   "Test Plan:", 
   "1) Run TestHLogSplit", 
   "2) Run TestHLogMethods", 
   "3) Run TestHLog", 
   "4) Kill regionservers during an HBase load test and verify log splitting", 
   "worked correctly.", 
   "Reviewed By: kannan", 
   "Reviewers: kannan", 
   "Commenters: dhruba, pkhemani", 
   "CC: hbase@lists, , pritam, kannan, dhruba, pkhemani", 
   "Revert Plan:", 
   "Tags:", 
   "- begin *PUBLIC* platform impact section -", 
   "Bugzilla: #", 
   "- end platform impact -", 
   "Differential Revision: 275654", 
   "Task ID: 617230"
  ], 
  "revision_id": "1181584"
 }, 
 {
  "author": "nspiegelberg", 
  "date": "2011-10-11T02:22:42.427206Z", 
  "msg": [
   "Fixing per-CF metrics for Put/Delete/Get due to \":\" separator", 
   "Summary:", 
   "Apparently on parsing the strings in the metrics maps, the \":\" separator causes", 
   "problems and invalidates the entry. This caused the actual metrics for the", 
   "requests to not show up at all.", 
   "Test Plan:", 
   "I just ran a multi-CF put against the cluster and checked the machine serving", 
   "the region for the metrics to show up:", 
   "\"hadoop.regionserver_cf.aaa~bbb.multiput_avgtime\": 2,", 
   "\"hadoop.regionserver_cf.aaa~bbb.multiput_maxtime\": 2,", 
   "\"hadoop.regionserver_cf.aaa~bbb.multiput_mintime\": 2,", 
   "\"hadoop.regionserver_cf.aaa~bbb.multiput_numops\": 0,", 
   "Reviewed By: kannan", 
   "Reviewers: kannan", 
   "CC: kannan", 
   "Differential Revision: 275602"
  ], 
  "revision_id": "1181583"
 }, 
 {
  "author": "nspiegelberg", 
  "date": "2011-10-11T02:22:34.694733Z", 
  "msg": [
   "More accurate heapsize measure with new string; fixes unit test fail", 
   "Summary: This change includes the size of the string and its unicode characters when determining heapSize() of a HFileBlock", 
   "Task ID: #", 
   "Blame Rev:#270111", 
   "Reviewers: mbautin", 
   "CC: kannan", 
   "Test Plan: Make sure the unit tests associated with HFileBlock all pass now. Check with mbautin on how much cluster testing is required for this change.", 
   "Revert Plan: Revert code, recompile, roll out.", 
   "Tags:", 
   "Differential Revision: 272589"
  ], 
  "revision_id": "1181582"
 }, 
 {
  "author": "nspiegelberg", 
  "date": "2011-10-11T02:22:28.095900Z", 
  "msg": [
   "expose more stats from HBase master node", 
   "Summary:", 
   "Added the following new stats to HMaster:", 
   "\"hadoop.master_avgrequestcount\":", 
   "\"hadoop.master_maxrequestcount\":", 
   "\"hadoop.master_minrequestcount\":", 
   "\"hadoop.master_numlogssplit\": 4,", 
   "\"hadoop.master_numregionservers\":", 
   "\"hadoop.master_numregionsopened\":", 
   "\"hadoop.master_numrsexpired\":", 
   "\"hadoop.master_sizeoflogssplit\":", 
   "=========", 
   "Sample output", 
   "=========", 
   "{", 
   "\"hadoop.master_avgrequestcount\": 384,", 
   "\"hadoop.master_cluster_requests\": 456.75,", 
   "\"hadoop.master_maxrequestcount\": 1134,", 
   "\"hadoop.master_minrequestcount\": 0,", 
   "\"hadoop.master_numlogssplit\": 4,", 
   "\"hadoop.master_numregionservers\": 2,", 
   "\"hadoop.master_numregionsopened\": 33,", 
   "\"hadoop.master_numrsexpired\": 2,", 
   "\"hadoop.master_rpc_getclusterstatus_avg_time\": 0,", 
   "\"hadoop.master_rpc_getclusterstatus_num_ops\": 2,", 
   "\"hadoop.master_rpc_getprotocolversion_avg_time\": 0,", 
   "\"hadoop.master_rpc_getprotocolversion_num_ops\": 11,", 
   "\"hadoop.master_rpc_ismasterrunning_avg_time\": 0,", 
   "\"hadoop.master_rpc_ismasterrunning_num_ops\": 3,", 
   "\"hadoop.master_rpc_regionserverreport_avg_time\": 0,", 
   "\"hadoop.master_rpc_regionserverreport_num_ops\": 4908,", 
   "\"hadoop.master_rpc_regionserverstartup_avg_time\": 0,", 
   "\"hadoop.master_rpc_regionserverstartup_num_ops\": 5,", 
   "\"hadoop.master_rpc_rpcprocessingtime_avg_time\": 0,", 
   "\"hadoop.master_rpc_rpcprocessingtime_num_ops\": 0,", 
   "\"hadoop.master_rpc_rpcqueuetime_avg_time\": 0,", 
   "\"hadoop.master_rpc_rpcqueuetime_num_ops\": 0,", 
   "\"hadoop.master_sizeoflogssplit\": 2335562724,", 
   "\"hadoop.master_splitsizeavgtime\": 56676160,", 
   "\"hadoop.master_splitsizemaxtime\": 510085452,", 
   "\"hadoop.master_splitsizemintime\": 0,", 
   "\"hadoop.master_splitsizenumops\": 0,", 
   "\"hadoop.master_splittimeavgtime\": 1934,", 
   "\"hadoop.master_splittimemaxtime\": 16394,", 
   "\"hadoop.master_splittimemintime\": 0,", 
   "\"hadoop.master_splittimenumops\": 0", 
   "}", 
   "Test Plan:", 
   "tested on devcluster", 
   "1. Tested by killing region servers to check the RS_Expired count.", 
   "2. Checked the number of logs that were split and the size by disabling the", 
   "delete operation after the split.", 
   "3. Tested that the number of regions opened updates correctly when a particular", 
   "regionserver is shut down.", 
   "Reviewed By: kannan", 
   "Reviewers: kannan, nspiegelberg", 
   "Commenters: nspiegelberg", 
   "CC: alasla, , kannan, nspiegelberg", 
   "Differential Revision: 268851"
  ], 
  "revision_id": "1181581"
 }
]