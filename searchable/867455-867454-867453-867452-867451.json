[
 {
  "author": "hwright", 
  "date": "2007-10-25T18:53:56.923900Z", 
  "msg": [
   "* STATUS: Add a vote for r27256."
  ], 
  "revision_id": "867455"
 }, 
 {
  "author": "glasser", 
  "date": "2007-10-25T18:44:35.030687Z", 
  "msg": [
   "In the ambient depth filtering, the \"ambient_depth\" field on *file*", 
   "batons was really just a glorified flag: we only ever checked if it", 
   "was svn_depth_exclude or not.  So just change it into an", 
   "ambiently_excluded boolean.", 
   "* subversion/libsvn_wc/update_editor.c", 
   "(file_baton): Replace ambient_depth field with ambiently_excluded", 
   "field.", 
   "(make_file_baton): Initialize ambiently_excluded instead of", 
   "ambient_depth.  Drop some unnecessary conditionals which are just", 
   "equivalent to leaving the flag false.", 
   "(add_file, open_file, apply_textdelta, change_file_prop, close_file,", 
   "add_file_with_history): Use flag instead of depth field."
  ], 
  "revision_id": "867454"
 }, 
 {
  "author": "arfrever", 
  "date": "2007-10-25T18:23:53.917678Z", 
  "msg": [
   "Allow to set in environment the numer of backups kept around by hot-backup.py", 
   "and add --num-backups option which can be used to overwrite value obtained from", 
   "environment.", 
   "* tools/backup/hot-backup.py.in", 
   "(num_backups): Document that initialization is just a default. Try to", 
   "initialize using SVN_HOTBACKUP_BACKUPS_NUMBER environment variable.", 
   "(usage): Document new option.", 
   "(option parsing section): Parse it.", 
   "Patch by: kfogel", 
   "me", 
   "Approved by: kfogel"
  ], 
  "revision_id": "867453"
 }, 
 {
  "author": "cmpilato", 
  "date": "2007-10-25T17:50:06.535499Z", 
  "msg": [
   "Fix a bug in the RA compat code for the get-location-segments interface.", 
   "Branch: normalize-merge-sources", 
   "* subversion/libsvn_ra/compat.c", 
   "(maybe_crop_and_send_segment): Actually do the \"cropping\" and", 
   "\"maybe\" bits of this function's intent."
  ], 
  "revision_id": "867452"
 }, 
 {
  "author": "glasser", 
  "date": "2007-10-25T17:45:28.455000Z", 
  "msg": [
   "Fix Issue #2986, by essentially rewriting the wc-side logic for", 
   "copy-on-update.", 
   "Previously, add_file_with_history in the WC update editor faked these", 
   "actions:", 
   "* add_file", 
   "* install something like the copied file", 
   "* close_file", 
   "* run logs early", 
   "* open_file", 
   "This led to a bunch of problems; the biggest one was that the", 
   "premature log run could leave the WC in a state that corresponded to", 
   "no state of the repository.  Additionally, the extra log runs could be", 
   "a performance problem; some operations (like copying over the working", 
   "file) occured without using the loggy system; and the", 
   "text-base/revert-base distinction was not followed.", 
   "Now, add_file_with_history just runs a normal add_file; functions like", 
   "apply_textdelta and merge_props have been changed to be capable of", 
   "taking base and working data from the file baton instead of the", 
   "working copy.", 
   "* subversion/libsvn_wc/merge.c", 
   "(svn_wc__merge_internal): Add a new copyfrom_text argument; if", 
   "not NULL, the working text is taken from this file instead of from", 
   "the actual version in the working copy. Allow the merge_target to", 
   "not be under version control if this argument is given.", 
   "(svn_wc_merge3): Update call to svn_wc__merge_internal.", 
   "* subversion/libsvn_wc/props.c", 
   "(svn_wc__merge_props): Add new base_props and working_props", 
   "arguments; if given, use them as properties for the file we're", 
   "merging instead of reading them from the wc.", 
   "(svn_wc_merge_props2): Update call to svn_wc__merge_props.", 
   "* subversion/libsvn_wc/update_editor.c", 
   "(file_baton): New fields: booleans added_with_history and", 
   "received_textdelta, paths copied_text_base and", 
   "copied_working_text, and property hashes copied_base_props and", 
   "copied_working_props.  Remove send_notification field (which was", 
   "only necessary because of the extra close_file in the previous", 
   "implementation's add_file_with_history).", 
   "(choose_base_paths): New function extracted from apply_textdelta", 
   "which assigns the text_base_path and new_text_base_path fields in", 
   "the file_baton (to either text-base or revert-base paths), as well", 
   "as returning some other relevant information.", 
   "(apply_textdelta): Set received_textdelta when called.  Use the", 
   "extracted choose_base_paths function.  If we have a copied text", 
   "base, use that instead of the empty stream for the delta's source.", 
   "(window_handler): When done, close the copied_text_base instead of", 
   "the usual text-base if that's what you were using.", 
   "(close_file): If this was an add_with_history but there were no text", 
   "deltas, set up the base path fields, new text base file, and", 
   "checksum as if a trivial delta had occured.  Remove reference to", 
   "send_notification.", 
   "(merge_file): Pass the two copied property hashes to", 
   "svn_wc__merge_props via merge_props.  If we saved a copy of the", 
   "working text in add_file_with_history, then consider us to have", 
   "local mods.  Use .copied as conflict file extension if it is", 
   "copied.  Use copied text-base path as the left argument to the", 
   "merge if it's there.  Pass copied working text path as", 
   "svn_wc__merge_internal's new parameter.  Loggily clean up copied", 
   "working text temp file after running the merge, and loggily clean", 
   "up the copied text-base temp file at the end.", 
   "(add_file_with_history): Rewrite most of the function to set up all", 
   "the new fields, copy a bunch of things to temp files, etc.  But", 
   "don't run any logs!", 
   "(copy_non_entry_props): New helper func copying a property hash but", 
   "without svn:entry:* props.", 
   "(merge_props): Add base_props and working_props arguments, passed", 
   "straight through to svn_wc__merge_props.", 
   "(make_file_baton): Don't initialize send_notification.", 
   "(close_directory): Update call to svn_wc__merge_props.", 
   "* subversion/libsvn_wc/props.h", 
   "(svn_wc__merge_props): Update declaration and documentation.", 
   "* subversion/libsvn_wc/wc.h", 
   "(svn_wc__merge_internal): Update declaration and documentation.", 
   "* subversion/libsvn_wc/log.c", 
   "(log_do_merge): Update call to svn_wc__merge_internal."
  ], 
  "revision_id": "867451"
 }
]