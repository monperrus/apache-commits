[
 {
  "author": "pburba", 
  "date": "2008-10-22T18:01:16.969007Z", 
  "msg": [
   "On the issue-3067-deleted-subtrees branch: Implement log based workaround", 
   "for svn_ra_get_deleted_rev() when querying a 1.5.x server.", 
   "* subversion/libsvn_client/merge.c", 
   "(adjust_deleted_subtree_ranges): Some comment tweaks.  Remove a TODO", 
   "comment.", 
   "(calculate_remaining_ranges): Comment tweaks.", 
   "* subversion/libsvn_ra/compat.c", 
   "(log_path_del_rev_t, log_path_del_receiver): New baton and", 
   "svn_log_entry_receiver_t callback for...", 
   "(svn_ra__get_deleted_rev_from_log): ...this new fallback implementation of", 
   "svn_ra_get_deleted_rev() using svn_ra_get_log2().", 
   "* subversion/libsvn_ra/ra_loader.c", 
   "(svn_ra_get_deleted_rev): If get-deleted-rev isn't implemented", 
   "on the server then use the new svn_ra__get_deleted_rev_from_log fallback.", 
   "* subversion/libsvn_ra/ra_loader.h", 
   "(svn_ra__get_deleted_rev_from_log): New declaration."
  ], 
  "revision_id": "873925"
 }, 
 {
  "author": "hwright", 
  "date": "2008-10-22T16:48:36.643597Z", 
  "msg": [
   "* subversion/libsvn_fs_fs/rep-cache.c", 
   "(cleanup_db_apr): Use a loop for finalizing our prepared sqlite statements.", 
   "Followup to r33816."
  ], 
  "revision_id": "873924"
 }, 
 {
  "author": "gstein", 
  "date": "2008-10-22T16:27:05.242033Z", 
  "msg": [
   "Revamp reading/writing to administrative files, as exposed via the", 
   "adm_files.h APIs.", 
   "When reading, the interface returns a readable stream and a close call", 
   "(back to this API) is not required. The stream should be closed, however.", 
   "When writing, a stream is returned onto a temporary file, and a call to", 
   "close_adm_stream should be made to close the stream and move the resulting", 
   "file into place.", 
   "Some unrelated changes to internal LOGGY constants were made to clarify", 
   "purpose, and note that a couple (more) are deprecated. A couple associated", 
   "docstrings were updated, and the loggy_move_copy_internal() function", 
   "parameters were tightened up to just a boolean rather than arbitrary ops.", 
   "* subversion/libsvn_wc/adm_files.h:", 
   "(svn_wc__open_adm_file, svn_wc__close_adm_file): removed", 
   "(svn_wc__open_adm_writable, svn_wc__open_adm_stream,", 
   "svn_wc__close_adm_stream): new declaration", 
   "* subversion/libsvn_wc/adm_files.c:", 
   "(open_adm_file): return a stream instead of a file handle. take a single", 
   "boolean to determine reading/writing, rather than arbitrary flags.", 
   "take a pair of (result/scratch) pools.", 
   "(svn_wc__open_adm_file): renamed to ...", 
   "(svn_wc__open_adm_writable): ... here. parameters and invocation of the", 
   "internal open_adm_file() were changed.", 
   "(svn_wc__close_adm_file): renamed to ...", 
   "(svn_wc__close_adm_stream): ... here. paramters tweaked and the code", 
   "simplified.", 
   "(svn_wc__open_adm_stream): new implementation", 
   "(svn_wc__open_writable_base): simplify around new open_adm_file()", 
   "parameters", 
   "* subversion/libsvn_wc/props.h:", 
   "(svn_wc__props_flush): renamed to ...", 
   "(svn_wc__wcprops_flush): ... here. parameters simplified since this is", 
   "only ever used to flush wcprops.", 
   "* subversion/libsvn_wc/props.c:", 
   "(svn_wc__props_flush): renamed to ..", 
   "(svn_wc__wcprops_flush): ... here, and simplified.", 
   "(read_wcprops): change to new svn_wc__open_adm_stream() interface.", 
   "(write_wcprops): change to new svn_wc__open_adm_writable() and", 
   "svn_wc__close_adm_stream() interface.", 
   "(remove_wcprops): folded into ...", 
   "(svn_wc__props_delete): ... here. code integrated and clarified a bit.", 
   "* subversion/libsvn_wc/entries.c:", 
   "(read_entries): rename parameter to scratch_pool and add a new", 
   "result_pool local var based on the access baton's pool, in order to", 
   "clarify pool usage/lifetime within the function. switch to the enw", 
   "svn_wc__open_adm_stream() interface and suck in the contents using", 
   "svn_string_from_stream().", 
   "(svn_wc__entries_write, svn_wc__entries_init): switch to the new", 
   "svn_wc__open_adm_writable interface. file writing is simplified by", 
   "switching to a stream write.", 
   "* subversion/libsvn_wc/log.c:", 
   "(SVN_WC__LOG_CP, SVN_WC__LOG_CP_AND_DETRANSLATE): note that these are", 
   "deprecated (not sure when that happened). they are still available in", 
   "case old working copies logs contain them. these two symbols are", 
   "shifted to the end of the LOGGY symbols.", 
   "(SVN_WC__LOG_MERGE): shift this deprecated operation to the end.", 
   "(SVN_WC__LOG_ATTR_FORMAT, SVN__LOG_ATTR_FORCE): shift these up", 
   "(run_log): switch to new svn_wc__open_adm_stream() interface and greatly", 
   "simplify the reading/parsing of the log contents. switch some", 
   "references from loggy->adm_access to the original adm_access for", 
   "clarity. adjust call to svn_wc__wcprops_flush()", 
   "(loggy_move_copy_internal): remove arbitrary op parameter, in favor of a", 
   "simple IS_MOVE parameter, which then selects the appropriate op.", 
   "adjust the two callers.", 
   "(svn_wc__write_log): switch to new svn_wc__open_adm_writable interface."
  ], 
  "revision_id": "873923"
 }, 
 {
  "author": "gstein", 
  "date": "2008-10-22T15:52:59.780565Z", 
  "msg": [
   "Add svn_string_from_stream(), analagous to svn_stringbuf_from_*.", 
   "This simply returns an svn_string_t rather than a stringbuf; it isn't", 
   "expected that callers will continue to append, so the simpler type seems", 
   "more appropriate.", 
   "* subversion/include/svn_io.h:", 
   "(svn_string_from_stream): new declaration", 
   "(svn_stringbuf_from_file2, svn_stringbuf_from_aprfile): add a note to", 
   "the docstring that these APIs are not good for large files.", 
   "* subversion/libsvn_subr/stream.c:", 
   "(svn_string_from_stream): new implementation", 
   "* subversion/libsvn_subr/io.c:", 
   "(svn_stringbuf_from_file2): leave marker that this function is written", 
   "quite inefficiently, and needs a rewrite.", 
   "(svn_stringbuf_from_aprfile): no need to append a NUL character, as all", 
   "the stringbuf APIs are already doing that."
  ], 
  "revision_id": "873922"
 }, 
 {
  "author": "hwright", 
  "date": "2008-10-22T14:54:32.858473Z", 
  "msg": [
   "Followup to r33839 for svn_io_write_unique().  Also fix up the docstring to", 
   "require a place to put the resultant file.", 
   "* subversion/libsvn_subr/io.c", 
   "(svn_io_write_unique): Optionally use the system provided temp directory.", 
   "* subversion/include/svn_io.h", 
   "(svn_io_write_unique): Require callers to provide a place to put the created", 
   "unique file."
  ], 
  "revision_id": "873921"
 }
]