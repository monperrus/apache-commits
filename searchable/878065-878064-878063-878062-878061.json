[
 {
  "author": "stsp", 
  "date": "2009-06-11T15:43:32.043814Z", 
  "msg": [
   "On the 1.6.x-r37988 backport branch:", 
   "Make svn_opt_eat_peg_revisions a private function to comply with", 
   "our API guidelines.", 
   "Suggested by: rhuijben", 
   "* subversion/libsvn_subr/opt.c", 
   "(svn_opt_eat_peg_revisions): Rename to ...", 
   "(svn_opt__eat_peg_revisions): this to make it private.", 
   "* subversion/include/svn_opt.h", 
   "(svn_opt_eat_peg_revisions): Remove declaration.", 
   "* subversion/include/private/svn_opt_private.h", 
   "(svn_opt__eat_peg_revisions): Declare.", 
   "* subversion/svn/propdel-cmd.c, subversion/svn/mkdir-cmd.c,", 
   "subversion/svn/move-cmd.c, subversion/svn/revert-cmd.c,", 
   "subversion/svn/changelist-cmd.c, subversion/svn/update-cmd.c,", 
   "subversion/svn/resolved-cmd.c, subversion/svn/cleanup-cmd.c,", 
   "subversion/svn/commit-cmd.c, subversion/svn/add-cmd.c,", 
   "subversion/svn/propset-cmd.c, subversion/svn/delete-cmd.c,", 
   "subversion/svn/resolve-cmd.c, subversion/svn/status-cmd.c,", 
   "subversion/svn/propedit-cmd.c, subversion/svn/lock-cmd.c,", 
   "subversion/svn/unlock-cmd.c", 
   "(svn_cl__propdel, svn_cl__mkdir, svn_cl__move, svn_cl__revert,", 
   "svn_cl__changelist, svn_cl__update, svn_cl__resolved, svn_cl__cleanup,", 
   "svn_cl__commit, svn_cl__add, svn_cl__propset, svn_cl__delete,", 
   "svn_cl__resolve, svn_cl__status, svn_cl__propedit, svn_cl__lock,", 
   "svn_cl__unlock): Track above rename and move to different header."
  ], 
  "revision_id": "878065"
 }, 
 {
  "author": "stsp", 
  "date": "2009-06-11T15:18:56.981572Z", 
  "msg": [
   "On the svn-1.6.x-r37988 branch: Backport r37988, resolving 2 tree conflicts.", 
   "The files svn/patch-cmd.c and svn/upgrade-cmd.c don't exist in 1.6.x."
  ], 
  "revision_id": "878064"
 }, 
 {
  "author": "stsp", 
  "date": "2009-06-11T15:09:38.508923Z", 
  "msg": [
   "Create backport branch for r37988."
  ], 
  "revision_id": "878063"
 }, 
 {
  "author": "stsp", 
  "date": "2009-06-11T14:45:47.316241Z", 
  "msg": [
   "Fix issue #3416, \"Cannot add or commit 'dir/@file.txt'\".", 
   "Make every subcommand parse peg revisions which previously didn't", 
   "parse them. The Book documents this behaviour as follows:", 
   "After all, how does svn know whether news@11 is the name of a", 
   "directory in my tree or just a syntax for \u201crevision 11 of news\u201d?", 
   "Thankfully, while svn will always assume the latter, [...]", 
   "Regrettably, svn didn't always assume the latter.", 
   "We only ever parsed peg revisions for commands where they make sense.", 
   "Escaping '@' characters in filenames was impossible for subcommands", 
   "which didn't parse peg revisions. Subversion would always interpret", 
   "'abc@abc' as a complete filename for those commands, instead of", 
   "as the nonsense 'revision abc of abc' it is.", 
   "Even our unit tests didn't agree with The Book, and were merrily", 
   "adding and committing 'abc@abc' without escaping.", 
   "To add insult to injury, when splitting peg revisions from target", 
   "paths we never ensured that the target path still had a non-zero", 
   "length after the split. The code then went on to form a canonicalised", 
   "target path with attached peg revision by canonicalising the empty", 
   "path and then concatenating the empty canonicalisation result and", 
   "the peg revision.", 
   "This led to confusing behaviour were 'svn add @file' ('@file' is an", 
   "actual filename) was accidentally working, but 'svn add @file@' was", 
   "not -- it resulted in \"svn add: Warning: '@file@' not found\"", 
   "In the former situation we now throw an error, because as far as svn", 
   "can tell only a peg revision was specified, but no target path.", 
   "'svn add @file@' is the correct way to add a file called @file, and", 
   "because 'svn add' will now parse and discard the peg revision specifier,", 
   "this now works.", 
   "This problem didn't just affect add, but every subcommand which", 
   "didn't interpret peg revisions (commit, lock, etc.)", 
   "* subversion/libsvn_subr/opt.c", 
   "(svn_opt__split_arg_at_peg_revision): Require target path to have", 
   "a non-zero length after splitting a peg revision from it.", 
   "Allow callers to pass NULL for the parsed peg revision, so they can", 
   "easily discard the parsed peg revision if they don't need it.", 
   "(svn_opt_eat_peg_revisions): New function. Returns a copy of a list", 
   "of targets with all peg revision specifiers removed.", 
   "* subversion/tests/cmdline/basic_tests.py", 
   "(basic_peg_revision): Consistently escape '@' characters in filenames,", 
   "and check for regression into issue #3416.", 
   "* subversion/svn/patch-cmd.c, subversion/svn/propdel-cmd.c,", 
   "subversion/svn/mkdir-cmd.c, subversion/svn/move-cmd.c,", 
   "subversion/svn/revert-cmd.c, subversion/svn/changelist-cmd.c,", 
   "subversion/svn/update-cmd.c, subversion/svn/resolved-cmd.c,", 
   "subversion/svn/upgrade-cmd.c, subversion/svn/cleanup-cmd.c,", 
   "subversion/svn/commit-cmd.c, subversion/svn/add-cmd.c,", 
   "subversion/svn/propset-cmd.c, subversion/svn/delete-cmd.c,", 
   "subversion/svn/resolve-cmd.c, subversion/svn/status-cmd.c,", 
   "subversion/svn/propedit-cmd.c, subversion/svn/lock-cmd.c,", 
   "subversion/svn/unlock-cmd.c", 
   "(svn_cl__patch, svn_cl__propdel, svn_cl__mkdir, svn_cl__move,", 
   "svn_cl__revert, svn_cl__changelist, svn_cl__update, svn_cl__resolved,", 
   "svn_cl__upgrade, svn_cl__cleanup, svn_cl__commit, svn_cl__add,", 
   "svn_cl__propset, svn_cl__delete, svn_cl__resolve, svn_cl__status,", 
   "svn_cl__propedit, svn_cl__lock, svn_cl__unlock):  Remove peg revision", 
   "specifiers from all targets before passing them to the client library,", 
   "using the new function svn_opt_eat_peg_revisions().", 
   "* subversion/include/private/svn_opt_private.h", 
   "(svn_opt__split_arg_at_peg_revision): Document changes in behaviour", 
   "described above (see entry for subversion/libsvn_subr/opt.c).", 
   "* subversion/include/svn_opt.h", 
   "(svn_opt_parse_path): Document a few additional examples of how peg", 
   "revisions are parsed, all pertaining to issue #3416.", 
   "(svn_opt_eat_peg_revisions): Declare."
  ], 
  "revision_id": "878062"
 }, 
 {
  "author": "rhuijben", 
  "date": "2009-06-11T12:58:46.666100Z", 
  "msg": [
   "* STATUS: Cast vote on r36298 (main.py part)"
  ], 
  "revision_id": "878061"
 }
]