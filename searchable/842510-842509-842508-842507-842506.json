[
 {
  "author": "cmpilato", 
  "date": "2002-07-08T18:41:07.797312Z", 
  "msg": [
   "Re-committing Karl's 2428 commit, plus some fixes.", 
   "--", 
   "[this part by kfogel]", 
   "Continuing work on issue #494.", 
   "Apply the remainder of Marcus Comstedt's `svn_utf_2366_libs.patch',", 
   "with some tweaks.  This is the \"separate commit\" referred to in", 
   "revision 2424.  Marcus -- and anyone else -- please review :-).", 
   "Note that this leaves the code in a technically broken state until his", 
   "svn_utf_2366_client.patch is applied, which I'll do in an upcoming", 
   "commit.  That patch makes the command line client ensure that it's", 
   "passing UTF-8 paths down into the libraries, which are now expecting", 
   "that encoding.", 
   "It's only \"technically\" broken because in practice everything works", 
   "fine, and make check still passes, as long as you use ascii filenames", 
   "and/or don't pass the `--enable-utf8' flag to configure.", 
   "* subversion/libsvn_subr/io.c: Include svn_utf.h.", 
   "(svn_io_check_path, svn_io_open_unique_file, svn_io_copy_file,", 
   "svn_io_append_file, svn_io_copy_dir_recursively,", 
   "svn_io_make_dir_recursively, svn_io_file_affected_time,", 
   "svn_io_filesizes_different_p, svn_io_file_checksum,", 
   "svn_io_set_file_read_only, svn_io_set_file_read_write,", 
   "svn_io_set_file_executable, svn_string_from_file,", 
   "svn_io_remove_file, svn_io_run_cmd, svn_io_run_diff,", 
   "svn_io_run_diff3, svn_io_detect_mimetype, svn_io_file_open,", 
   "svn_io_stat, svn_io_file_rename, svn_io_dir_make, svn_io_dir_open,", 
   "svn_io_dir_remove_nonrecursive, svn_io_dir_read, svn_io_file_printf,", 
   "svn_io_dir_empty): Convert incoming/outgoing data from/to UTF-8 as", 
   "appropriate.  Also, consistify error messages.", 
   "(svn_io_remove_dir, svn_io_get_dirents): Same, plus check for \".\"", 
   "and \"..\" more efficiently.", 
   "(read_handler_apr, write_handler_apr, read_handler_stdio,", 
   "write_handler_stdio): Consistify error messages.", 
   "(svn_string_from_aprfile): Convert error message to UTF-8 first.", 
   "(apr_dir_is_empty): Check for \".\" and \"..\" more efficiently.", 
   "* subversion/include/svn_io.h", 
   "(svn_io_check_path, svn_io_open_unique_file, svn_io_copy_file,", 
   "svn_io_copy_dir_recursively, svn_io_make_dir_recursively,", 
   "svn_io_dir_empty, svn_io_append_file, svn_io_set_file_read_only,", 
   "svn_io_set_file_read_write, svn_io_set_file_executable,", 
   "svn_io_file_affected_time, svn_io_filesizes_different_p,", 
   "svn_io_file_checksum, svn_string_from_file, svn_io_remove_file,", 
   "svn_io_remove_dir, svn_io_get_dirents, svn_io_run_cmd,", 
   "svn_io_run_diff, svn_io_run_diff3, svn_io_detect_mimetype,", 
   "svn_io_file_open, svn_io_stat, svn_io_file_rename, svn_io_dir_make,", 
   "svn_io_dir_open, svn_io_dir_remove_nonrecursive, svn_io_dir_read,", 
   "svn_io_file_printf): Document UTF-8 conventions.", 
   "* subversion/libsvn_client/add.c", 
   "(add_dir_recursive): Use loop subpool for svn_io_dir_read.  Also,", 
   "check for \".\" and \"..\" more efficiently.", 
   "* subversion/libsvn_client/commit.c", 
   "(import_dir): Use loop subpool for svn_io_dir_read.", 
   "* subversion/libsvn_client/repos_diff.c: Include svn_io.h and", 
   "svn_utf.h.", 
   "(struct temp_file_cleanup_s): Note that path is not utf8-encoded.", 
   "(temp_file_plain_cleanup_handler): Add similar note.", 
   "(temp_file_cleanup_register): Convert path from UTF-8 to native.", 
   "* subversion/libsvn_fs/fs.c: Include svn_path.h and svn_utf.h.", 
   "(svn_fs_create_berkeley, svn_fs_open_berkeley,", 
   "svn_fs_berkeley_recover, svn_fs_delete_berkeley): Convert paths", 
   "from UTF-8 to native.", 
   "* subversion/include/svn_fs.h", 
   "(svn_fs_create_berkeley, svn_fs_open_berkeley,", 
   "svn_fs_berkeley_recover, svn_fs_delete_berkeley,", 
   "svn_fs_berkeley_path): Document that paths are UTF-8.", 
   "* subversion/libsvn_subr/target.c: Include svn_utf.h.", 
   "(svn_path_get_absolute): Convert path from UTF-8 to native before", 
   "calling apr_filepath_merge, then convert result back to UTF-8.", 
   "(svn_path_split_if_file): Formatting fixes only.", 
   "* subversion/libsvn_subr/svn_error.c: Include svn_utf.h.", 
   "(svn_handle_error, svn_handle_warning): Convert text of error", 
   "message from UTF-8 to native before printing.", 
   "* subversion/libsvn_wc/props.c: Include svn_utf.h.", 
   "(append_prop_conflict): Convert property conflict description text", 
   "from UTF-8 to native before writing to file.", 
   "* subversion/libsvn_client/auth.c: Include svn_utf.h", 
   "(get_username): Convert username to UTF-8 before returning it.", 
   "* subversion/libsvn_client/client.h", 
   "* subversion/libsvn_client/commit_util.c", 
   "(svn_client__condense_commit_items): Take base_url as const.", 
   "* subversion/libsvn_client/copy.c", 
   "(wc_to_repos_copy): Declare base_url as const.", 
   "--", 
   "[new, as of this commit]", 
   "* subversion/libsvn_subr/utf.c", 
   "(svn_utf_cstring_to_utf8, svn_utf_string_from_utf8,", 
   "svn_utf_cstring_from_utf8, svn_utf_cstring_from_utf8_stringbuf,", 
   "svn_utf_cstring_from_utf8_stringbuf): Make sure that returned path", 
   "is allocated in POOL.  This bug fix fathomed by Philip", 
   "Martin <philip@codematters.co.uk>", 
   "* subversion/libsvn_client/commit.c", 
   "(svn_client_commit): Constify 'base_url'."
  ], 
  "revision_id": "842510"
 }, 
 {
  "author": "sussman", 
  "date": "2002-07-08T17:47:32.207746Z", 
  "msg": [
   "A bugfix (from me and cmpilato) for what I now dub the \"the *reverse*", 
   "ghudson bug\".  Versioning trees is Hard.", 
   "The recipe for this bug was: commit a new item, schedule it for", 
   "deletion, then run 'svn up'.  Our report_revisions() routine was", 
   "neglecting to add the new item to the server txn, and then dir_delta", 
   "would erroneously try to add it.", 
   "* adm_crawler.c (report_revisions):  don't automatically skip over", 
   "items scheduled for deletion or replacement;  allow processing to", 
   "continue, so that differing revs are detected, and the deleted item", 
   "is reported to the txn as usual.  Also, don't attempt to restore a", 
   "missing file if it's scheduled for deletion or replacement.  Also,", 
   "don't attempt to detect a disjoint URL on something scheduled for", 
   "addition or replacement (the url is NULL)."
  ], 
  "revision_id": "842509"
 }, 
 {
  "author": "cmpilato", 
  "date": "2002-07-08T17:40:16.865876Z", 
  "msg": [
   "* subversion/libsvn_wc/adm_ops.c", 
   "(svn_wc_revert): Always split a file path into a parent directory", 
   "and basename."
  ], 
  "revision_id": "842508"
 }, 
 {
  "author": "kfogel", 
  "date": "2002-07-08T16:38:58.364396Z", 
  "msg": [
   "Temporarily revert revision 2428, as it is causing problems when", 
   "Subversion is built without `--enable-utf8'."
  ], 
  "revision_id": "842507"
 }, 
 {
  "author": "cmpilato", 
  "date": "2002-07-08T15:24:17.511271Z", 
  "msg": [
   "* subversion/libsvn_wc/update_editor.c", 
   "(svn_wc_install_file): Correct the values returned in", 
   "'content_state'.  This was causing '_ path/to/switched/file' lines", 
   "to show up every time I ran `svn update' with switched files in my", 
   "working copy."
  ], 
  "revision_id": "842506"
 }
]